<svg width="1200" height="850" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- æ¸å˜å®šä¹‰ - æŸ”å’Œè‰²è°ƒ -->
    <linearGradient id="coreGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8892b0"/>
      <stop offset="100%" style="stop-color:#a5b4cb"/>
    </linearGradient>
    
    <linearGradient id="sceneGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#7c9cbf"/>
      <stop offset="100%" style="stop-color:#9bb5d1"/>
    </linearGradient>
    
    <linearGradient id="entityGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#81b29a"/>
      <stop offset="100%" style="stop-color:#a8caba"/>
    </linearGradient>
    
    <linearGradient id="componentGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#d4a574"/>
      <stop offset="100%" style="stop-color:#e5c7a0"/>
    </linearGradient>
    
    <linearGradient id="systemGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#c49799"/>
      <stop offset="100%" style="stop-color:#d9b5b7"/>
    </linearGradient>
    
    <linearGradient id="queryGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#b0c4de"/>
      <stop offset="100%" style="stop-color:#d0dff0"/>
    </linearGradient>
    
    <linearGradient id="eventGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#c5a3c5"/>
      <stop offset="100%" style="stop-color:#e0c4e0"/>
    </linearGradient>

    <!-- åŠ¨ç”»å®šä¹‰ -->
    <style>
      .data-flow-line {
        animation: dataFlow 6s linear infinite;
      }
      
      @keyframes dataFlow {
        0% { stroke-dashoffset: 40; }
        100% { stroke-dashoffset: 0; }
      }
    </style>
  </defs>

  <!-- èƒŒæ™¯ -->
  <rect width="1200" height="850" fill="white" rx="15" stroke="#e2e8f0" stroke-width="1"/>
  
  <!-- æ ‡é¢˜ -->
  <text x="600" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#2c3e50">
    ECS Framework å®Œæ•´æ¶æ„
  </text>
  
  <!-- Core æ ¸å¿ƒå±‚ -->
  <g id="core-layer">
    <!-- æµç¨‹æ­¥éª¤æ ‡å· -->
    <circle cx="480" cy="75" r="15" fill="#8892b0" stroke="white" stroke-width="2"/>
    <text x="480" y="81" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">1</text>
    
    <rect x="400" y="60" width="400" height="60" rx="10" fill="url(#coreGradient)" opacity="0.9"/>
    <text x="600" y="85" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">
      Core æ¡†æ¶æ ¸å¿ƒ
    </text>
    <text x="500" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      ComponentRegistry â€¢ IdentifierPool
    </text>
    <text x="700" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      BitMaskOptimizer â€¢ ConfigManager
    </text>
    
  </g>
  
  <!-- Scene åœºæ™¯ç®¡ç†å±‚ -->
  <g id="scene-layer">
    <!-- æµç¨‹æ­¥éª¤æ ‡å· -->
    <circle cx="280" cy="175" r="15" fill="#7c9cbf" stroke="white" stroke-width="2"/>
    <text x="280" y="181" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">2</text>
    
    <rect x="300" y="150" width="600" height="80" rx="12" fill="url(#sceneGradient)" opacity="0.9"/>
    <text x="600" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="white">
      Scene åœºæ™¯ç®¡ç†å™¨
    </text>
    <text x="450" y="195" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      EntityList
    </text>
    <text x="600" y="195" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      ComponentStorageManager
    </text>
    <text x="750" y="195" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      EntityProcessors
    </text>
    <text x="600" y="215" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      å®ä½“ç®¡ç† â€¢ ç»„ä»¶å­˜å‚¨ â€¢ ç³»ç»Ÿè°ƒåº¦ â€¢ æŸ¥è¯¢å¼•æ“
    </text>
    
  </g>

  <!-- Entity å®ä½“å±‚ -->
  <g id="entity-layer">
    <!-- æµç¨‹æ­¥éª¤æ ‡å· -->
    <circle cx="30" cy="320" r="15" fill="#81b29a" stroke="white" stroke-width="2"/>
    <text x="30" y="326" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">3</text>
    
    <rect x="50" y="280" width="280" height="180" rx="10" fill="url(#entityGradient)" opacity="0.9"/>
    <text x="190" y="305" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">
      Entity å®ä½“ç³»ç»Ÿ
    </text>
    
    <!-- Entity Manager -->
    <rect x="70" y="320" width="240" height="30" rx="5" fill="rgba(255,255,255,0.3)" stroke="rgba(255,255,255,0.5)" stroke-width="1"/>
    <text x="190" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">
      EntityList â€¢ é«˜æ€§èƒ½å®ä½“é›†åˆç®¡ç†
    </text>
    
    <!-- Entity instances -->
    <rect x="80" y="360" width="60" height="20" rx="3" fill="rgba(255,255,255,0.4)"/>
    <text x="110" y="373" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Player</text>
    
    <rect x="150" y="360" width="60" height="20" rx="3" fill="rgba(255,255,255,0.4)"/>
    <text x="180" y="373" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Enemy</text>
    
    <rect x="220" y="360" width="60" height="20" rx="3" fill="rgba(255,255,255,0.4)"/>
    <text x="250" y="373" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Bullet</text>
    
    <!-- Entity features -->
    <text x="80" y="400" font-family="Arial, sans-serif" font-size="9" fill="white">â€¢ ç»„ä»¶å®¹å™¨</text>
    <text x="80" y="415" font-family="Arial, sans-serif" font-size="9" fill="white">â€¢ å±‚æ¬¡ç»“æ„</text>
    <text x="190" y="400" font-family="Arial, sans-serif" font-size="9" fill="white">â€¢ ç”Ÿå‘½å‘¨æœŸç®¡ç†</text>
    <text x="190" y="415" font-family="Arial, sans-serif" font-size="9" fill="white">â€¢ çŠ¶æ€ç®¡ç†</text>
    
    <text x="190" y="440" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      å”¯ä¸€æ ‡è¯† â€¢ æ— æ•°æ®é€»è¾‘è½½ä½“
    </text>
    
  </g>

  <!-- Component ç»„ä»¶å±‚ -->
  <g id="component-layer">
    <!-- æµç¨‹æ­¥éª¤æ ‡å· -->
    <circle cx="650" cy="320" r="15" fill="#d4a574" stroke="white" stroke-width="2"/>
    <text x="650" y="326" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">4</text>
    
    <rect x="360" y="280" width="280" height="180" rx="10" fill="url(#componentGradient)" opacity="0.9"/>
    <text x="500" y="305" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">
      Component ç»„ä»¶ç³»ç»Ÿ
    </text>
    
    <!-- Component Storage -->
    <rect x="380" y="315" width="240" height="40" rx="5" fill="rgba(255,255,255,0.3)" stroke="rgba(255,255,255,0.5)" stroke-width="1"/>
    <text x="500" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      ComponentStorageManager â€¢ SoA/AoS åŒæ¨¡å¼
    </text>
    <text x="500" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
      ComponentPool â€¢ DirtyTrackingSystem
    </text>
    
    <!-- Component types -->
    <rect x="380" y="360" width="110" height="18" rx="2" fill="rgba(255,255,255,0.4)"/>
    <text x="435" y="372" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Position {x,y,z}</text>
    
    <rect x="500" y="360" width="110" height="18" rx="2" fill="rgba(255,255,255,0.4)"/>
    <text x="555" y="372" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Velocity {dx,dy,dz}</text>
    
    <rect x="380" y="385" width="110" height="18" rx="2" fill="rgba(255,255,255,0.4)"/>
    <text x="435" y="397" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Health {hp,max}</text>
    
    <rect x="500" y="385" width="110" height="18" rx="2" fill="rgba(255,255,255,0.4)"/>
    <text x="555" y="397" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Render {sprite}</text>
    
    <!-- Component features -->
    <text x="380" y="420" font-family="Arial, sans-serif" font-size="9" fill="white">â€¢ @EnableSoA ä¼˜åŒ–</text>
    <text x="520" y="420" font-family="Arial, sans-serif" font-size="9" fill="white">â€¢ å¯¹è±¡æ± ç®¡ç†</text>
    <text x="380" y="435" font-family="Arial, sans-serif" font-size="9" fill="white">â€¢ åºåˆ—åŒ–æ”¯æŒ</text>
    <text x="520" y="435" font-family="Arial, sans-serif" font-size="9" fill="white">â€¢ ç±»å‹å®‰å…¨</text>
    
    <text x="500" y="450" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      çº¯æ•°æ®ç»“æ„ â€¢ æè¿°å®ä½“å±æ€§
    </text>
    
  </g>

  <!-- System ç³»ç»Ÿå±‚ -->
  <g id="system-layer">
    <!-- æµç¨‹æ­¥éª¤æ ‡å· -->
    <circle cx="1160" cy="320" r="15" fill="#c49799" stroke="white" stroke-width="2"/>
    <text x="1160" y="326" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">5</text>
    
    <rect x="870" y="280" width="280" height="180" rx="10" fill="url(#systemGradient)" opacity="0.9"/>
    <text x="1010" y="305" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">
      System ç³»ç»Ÿå±‚
    </text>
    
    <!-- System Processors -->
    <rect x="890" y="320" width="240" height="30" rx="5" fill="rgba(255,255,255,0.3)" stroke="rgba(255,255,255,0.5)" stroke-width="1"/>
    <text x="1010" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">
      EntityProcessors â€¢ ç³»ç»Ÿè°ƒåº¦ç®¡ç†
    </text>
    
    <!-- System instances -->
    <rect x="890" y="360" width="110" height="18" rx="2" fill="rgba(255,255,255,0.4)"/>
    <text x="945" y="372" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">MovementSystem</text>
    
    <rect x="1010" y="360" width="110" height="18" rx="2" fill="rgba(255,255,255,0.4)"/>
    <text x="1065" y="372" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">RenderSystem</text>
    
    <rect x="890" y="385" width="110" height="18" rx="2" fill="rgba(255,255,255,0.4)"/>
    <text x="945" y="397" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">PhysicsSystem</text>
    
    <rect x="1010" y="385" width="110" height="18" rx="2" fill="rgba(255,255,255,0.4)"/>
    <text x="1065" y="397" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">AISystem</text>
    
    <!-- System features -->
    <text x="890" y="420" font-family="Arial, sans-serif" font-size="9" fill="white">â€¢ Matcher æŸ¥è¯¢</text>
    <text x="1020" y="420" font-family="Arial, sans-serif" font-size="9" fill="white">â€¢ æ€§èƒ½ç›‘æ§</text>
    <text x="890" y="435" font-family="Arial, sans-serif" font-size="9" fill="white">â€¢ ä¼˜å…ˆçº§è°ƒåº¦</text>
    <text x="1020" y="435" font-family="Arial, sans-serif" font-size="9" fill="white">â€¢ çƒ­æ’æ‹”</text>
    
    <text x="1010" y="450" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      ä¸šåŠ¡é€»è¾‘å¤„ç† â€¢ æ“ä½œç»„ä»¶æ•°æ®
    </text>
    
  </g>

  <!-- Query æŸ¥è¯¢å±‚ -->
  <g id="query-layer">
    <!-- æµç¨‹æ­¥éª¤æ ‡å· -->
    <circle cx="30" cy="540" r="15" fill="#b0c4de" stroke="white" stroke-width="2"/>
    <text x="30" y="546" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">6</text>
    
    <rect x="50" y="500" width="500" height="120" rx="10" fill="url(#queryGradient)" opacity="0.9"/>
    <text x="300" y="525" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#2c3e50">
      Query æŸ¥è¯¢ç³»ç»Ÿ
    </text>
    
    <!-- Query components -->
    <rect x="70" y="540" width="140" height="60" rx="5" fill="rgba(255,255,255,0.6)" stroke="rgba(255,255,255,0.8)" stroke-width="1"/>
    <text x="140" y="555" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#4a5568">Matcher</text>
    <text x="140" y="570" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#4a5568">withAll()</text>
    <text x="140" y="582" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#4a5568">withAny()</text>
    <text x="140" y="594" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#4a5568">withNone()</text>
    
    <rect x="230" y="540" width="140" height="60" rx="5" fill="rgba(255,255,255,0.6)" stroke="rgba(255,255,255,0.8)" stroke-width="1"/>
    <text x="300" y="555" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#4a5568">QuerySystem</text>
    <text x="300" y="570" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#4a5568">æŸ¥è¯¢ç¼“å­˜</text>
    <text x="300" y="582" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#4a5568">æ‰¹é‡ä¼˜åŒ–</text>
    <text x="300" y="594" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#4a5568">å®æ—¶æ›´æ–°</text>
    
    <rect x="390" y="540" width="140" height="60" rx="5" fill="rgba(255,255,255,0.6)" stroke="rgba(255,255,255,0.8)" stroke-width="1"/>
    <text x="460" y="553" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#4a5568">ArchetypeSystem</text>
    <text x="460" y="568" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#4a5568">ç»„ä»¶ç»„åˆåˆ†ç»„</text>
    <text x="460" y="580" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#4a5568">åŸå‹çº§ç¼“å­˜</text>
    <text x="460" y="592" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#4a5568">BitSetä¼˜åŒ–æŸ¥è¯¢</text>
    
  </g>

  <!-- Event äº‹ä»¶ç³»ç»Ÿ -->
  <g id="event-layer">
    <!-- æµç¨‹æ­¥éª¤æ ‡å· -->
    <circle cx="1160" cy="540" r="15" fill="#c5a3c5" stroke="white" stroke-width="2"/>
    <text x="1160" y="546" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">7</text>
    
    <rect x="580" y="500" width="570" height="120" rx="10" fill="url(#eventGradient)" opacity="0.9"/>
    <text x="865" y="525" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#2c3e50">
      Event äº‹ä»¶ç³»ç»Ÿ
    </text>
    
    <!-- Event components -->
    <rect x="600" y="540" width="150" height="60" rx="5" fill="rgba(255,255,255,0.6)" stroke="rgba(255,255,255,0.8)" stroke-width="1"/>
    <text x="675" y="555" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#4a5568">TypeSafeEventSystem</text>
    <text x="675" y="570" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#4a5568">åŒæ­¥/å¼‚æ­¥</text>
    <text x="675" y="582" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#4a5568">ä¼˜å…ˆçº§æ’åº</text>
    <text x="675" y="594" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#4a5568">æ‰¹å¤„ç†æœºåˆ¶</text>
    
    <rect x="770" y="540" width="150" height="60" rx="5" fill="rgba(255,255,255,0.6)" stroke="rgba(255,255,255,0.8)" stroke-width="1"/>
    <text x="845" y="555" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#4a5568">Performance Monitor</text>
    <text x="845" y="570" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#4a5568">æ€§èƒ½ç»Ÿè®¡</text>
    <text x="845" y="582" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#4a5568">é˜ˆå€¼å‘Šè­¦</text>
    <text x="845" y="594" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#4a5568">å®æ—¶ç›‘æ§</text>
    
    <rect x="940" y="540" width="150" height="60" rx="5" fill="rgba(255,255,255,0.6)" stroke="rgba(255,255,255,0.8)" stroke-width="1"/>
    <text x="1015" y="555" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#4a5568">Debug Manager</text>
    <text x="1015" y="570" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#4a5568">WebSocketé€šä¿¡</text>
    <text x="1015" y="582" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#4a5568">å®æ—¶è°ƒè¯•æ•°æ®</text>
    <text x="1015" y="594" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#4a5568">å†…å­˜å¿«ç…§</text>
    
  </g>

  <!-- æ•°æ®æµè¿æ¥çº¿ -->
  <!-- 1. Core to Scene - åˆå§‹åŒ–æµç¨‹ -->
  <path d="M 600 120 Q 600 135 600 150" stroke="#8892b0" stroke-width="3" fill="none" stroke-dasharray="10,5" class="data-flow-line"/>
  <polygon points="595,145 600,150 605,145" fill="#8892b0"/>
  <text x="620" y="135" font-family="Arial, sans-serif" font-size="10" fill="#8892b0" font-weight="bold">åˆå§‹åŒ–</text>
  
  <!-- 2. Scene to Entity/Component/System - ç®¡ç†æµç¨‹ -->
  <path d="M 400 230 Q 300 250 190 280" stroke="#7c9cbf" stroke-width="3" fill="none" stroke-dasharray="8,4" class="data-flow-line"/>
  <polygon points="195,275 190,280 200,282" fill="#7c9cbf"/>
  <text x="295" y="250" font-family="Arial, sans-serif" font-size="9" fill="#7c9cbf">ç®¡ç†å®ä½“</text>
  
  <path d="M 600 230 Q 600 250 500 280" stroke="#7c9cbf" stroke-width="3" fill="none" stroke-dasharray="8,4" class="data-flow-line"/>
  <polygon points="495,275 500,280 505,275" fill="#7c9cbf"/>
  <text x="550" y="250" font-family="Arial, sans-serif" font-size="9" fill="#7c9cbf">å­˜å‚¨ç»„ä»¶</text>
  
  <path d="M 800 230 Q 900 250 1010 280" stroke="#7c9cbf" stroke-width="3" fill="none" stroke-dasharray="8,4" class="data-flow-line"/>
  <polygon points="1005,275 1010,280 1000,282" fill="#7c9cbf"/>
  <text x="905" y="250" font-family="Arial, sans-serif" font-size="9" fill="#7c9cbf">è°ƒåº¦ç³»ç»Ÿ</text>
  
  <!-- 3. Entity to Component - ç»„ä»¶é™„åŠ  -->
  <path d="M 330 370 Q 350 370 360 370" stroke="#81b29a" stroke-width="3" fill="none" stroke-dasharray="6,3" class="data-flow-line"/>
  <polygon points="355,365 360,370 355,375" fill="#81b29a"/>
  <text x="345" y="360" font-family="Arial, sans-serif" font-size="9" fill="#81b29a" font-weight="bold">é™„åŠ ç»„ä»¶</text>
  
  <!-- 4. Component to System - æ•°æ®å¤„ç† -->
  <path d="M 640 370 Q 750 370 870 370" stroke="#d4a574" stroke-width="3" fill="none" stroke-dasharray="6,3" class="data-flow-line"/>
  <polygon points="865,365 870,370 865,375" fill="#d4a574"/>
  <text x="755" y="360" font-family="Arial, sans-serif" font-size="9" fill="#d4a574" font-weight="bold">å¤„ç†æ•°æ®</text>
  
  <!-- 5. Scene to Query/Event - æŸ¥è¯¢å’Œäº‹ä»¶ -->
  <path d="M 450 230 Q 350 350 300 500" stroke="#b0c4de" stroke-width="2" fill="none" stroke-dasharray="5,2" class="data-flow-line"/>
  <polygon points="305,495 300,500 295,495" fill="#b0c4de"/>
  <text x="375" y="365" font-family="Arial, sans-serif" font-size="8" fill="#b0c4de">æŸ¥è¯¢æ”¯æŒ</text>
  
  <path d="M 750 230 Q 850 350 865 500" stroke="#c5a3c5" stroke-width="2" fill="none" stroke-dasharray="5,2" class="data-flow-line"/>
  <polygon points="860,495 865,500 870,495" fill="#c5a3c5"/>
  <text x="808" y="365" font-family="Arial, sans-serif" font-size="8" fill="#c5a3c5">äº‹ä»¶é€šçŸ¥</text>
  
  <!-- 6. Query to System - æŸ¥è¯¢ç»“æœ -->
  <path d="M 460 540 Q 680 480 900 380" stroke="#b0c4de" stroke-width="3" fill="none" stroke-dasharray="4,2" class="data-flow-line"/>
  <polygon points="895,375 900,380 895,385" fill="#b0c4de"/>
  <text x="680" y="470" font-family="Arial, sans-serif" font-size="9" fill="#b0c4de" font-weight="bold">åŒ¹é…ç»“æœ</text>
  
  <!-- 7. Systemå›æµ - æ•°æ®ä¿®æ”¹å’Œäº‹ä»¶ -->
  <path d="M 900 400 Q 800 420 700 430 Q 600 440 500 430 Q 400 420 350 400" stroke="#c49799" stroke-width="2" fill="none" stroke-dasharray="3,2" class="data-flow-line"/>
  <text x="625" y="415" font-family="Arial, sans-serif" font-size="8" fill="#c49799">ä¿®æ”¹ç»„ä»¶æ•°æ®</text>
  
  <path d="M 1000 460 Q 1050 480 1100 500" stroke="#c5a3c5" stroke-width="2" fill="none" stroke-dasharray="3,2" class="data-flow-line"/>
  <text x="1050" y="475" font-family="Arial, sans-serif" font-size="8" fill="#c5a3c5">è§¦å‘äº‹ä»¶</text>
  
  <!-- å·¥ä½œæµç¨‹è¯´æ˜ -->
  <g id="workflow">
    <rect x="50" y="720" width="1100" height="120" rx="8" fill="rgba(108, 117, 125, 0.05)" stroke="#6c757d" stroke-width="1" stroke-dasharray="5,3"/>
    <text x="600" y="745" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#495057">
      ğŸ”„ ECS æ¡†æ¶7æ­¥å·¥ä½œæµç¨‹
    </text>
    
    <!-- æµç¨‹æ­¥éª¤è¯¦è§£ -->
    <g id="step-details">
      <text x="70" y="770" font-family="Arial, sans-serif" font-size="11" fill="#8892b0" font-weight="bold">â‘ åˆå§‹åŒ–</text>
      <text x="70" y="785" font-family="Arial, sans-serif" font-size="10" fill="#6c757d">Core.create()</text>
      
      <text x="170" y="770" font-family="Arial, sans-serif" font-size="11" fill="#7c9cbf" font-weight="bold">â‘¡åœºæ™¯ç®¡ç†</text>
      <text x="170" y="785" font-family="Arial, sans-serif" font-size="10" fill="#6c757d">Scene.initialize()</text>
      
      <text x="280" y="770" font-family="Arial, sans-serif" font-size="11" fill="#81b29a" font-weight="bold">â‘¢åˆ›å»ºå®ä½“</text>
      <text x="280" y="785" font-family="Arial, sans-serif" font-size="10" fill="#6c757d">Entity.create()</text>
      
      <text x="380" y="770" font-family="Arial, sans-serif" font-size="11" fill="#d4a574" font-weight="bold">â‘£é™„åŠ ç»„ä»¶</text>
      <text x="380" y="785" font-family="Arial, sans-serif" font-size="10" fill="#6c757d">addComponent()</text>
      
      <text x="480" y="770" font-family="Arial, sans-serif" font-size="11" fill="#c49799" font-weight="bold">â‘¤ç³»ç»Ÿå¤„ç†</text>
      <text x="480" y="785" font-family="Arial, sans-serif" font-size="10" fill="#6c757d">System.process()</text>
      
      <text x="580" y="770" font-family="Arial, sans-serif" font-size="11" fill="#b0c4de" font-weight="bold">â‘¥æŸ¥è¯¢åŒ¹é…</text>
      <text x="580" y="785" font-family="Arial, sans-serif" font-size="10" fill="#6c757d">Matcher.query()</text>
      
      <text x="680" y="770" font-family="Arial, sans-serif" font-size="11" fill="#c5a3c5" font-weight="bold">â‘¦äº‹ä»¶é€šçŸ¥</text>
      <text x="680" y="785" font-family="Arial, sans-serif" font-size="10" fill="#6c757d">Event.emit()</text>
    </g>
    
    <text x="600" y="810" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#6c757d">
      æ¯å¸§å¾ªç¯ï¼šæŸ¥è¯¢å®ä½“ â†’ åŒ¹é…ç»„ä»¶ â†’ æ‰§è¡Œç³»ç»Ÿé€»è¾‘ â†’ ä¿®æ”¹æ•°æ® â†’ è§¦å‘äº‹ä»¶ â†’ æ€§èƒ½ç›‘æ§
    </text>
    <text x="600" y="828" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#6c757d">
      ğŸ’¡ é¼ æ ‡æ‚¬åœå„ç»„ä»¶æŸ¥çœ‹è¯¦ç»†API â€¢ åœ†å½¢æ•°å­—æ˜¾ç¤ºæ‰§è¡Œé¡ºåº â€¢ ä¸åŒé¢œè‰²è¿çº¿ä»£è¡¨ä¸åŒæ•°æ®æµ
    </text>
  </g>
</svg>
<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) \> [@esengine/ecs-framework-monorepo](./ecs-framework-monorepo.md) \> [EntitySystem](./ecs-framework-monorepo.entitysystem.md)

## EntitySystem class

实体系统的基类

用于处理一组符合特定条件的实体。系统是ECS架构中的逻辑处理单元， 负责对拥有特定组件组合的实体执行业务逻辑。

**Signature:**

```text
export declare abstract class EntitySystem implements ISystemBase 
```
**Implements:** [ISystemBase](./ecs-framework-monorepo.isystembase.md)

## Example


```text
class MovementSystem extends EntitySystem {
    constructor() {
        super(Transform, Velocity);
    }

    protected process(entities: Entity[]): void {
        for (const entity of entities) {
            const transform = entity.getComponent(Transform);
            const velocity = entity.getComponent(Velocity);
            transform.position.add(velocity.value);
        }
    }
}
```

## Constructors

<table><thead><tr><th>

Constructor


</th><th>

Modifiers


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[(constructor)(matcher)](./ecs-framework-monorepo.entitysystem._constructor_.md)


</td><td>


</td><td>

Constructs a new instance of the `EntitySystem` class


</td></tr>
</tbody></table>

## Properties

<table><thead><tr><th>

Property


</th><th>

Modifiers


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[enabled](./ecs-framework-monorepo.entitysystem.enabled.md)


</td><td>


</td><td>

boolean


</td><td>

获取系统的启用状态


</td></tr>
<tr><td>

[entities](./ecs-framework-monorepo.entitysystem.entities.md)


</td><td>

`readonly`


</td><td>

readonly [Entity](./ecs-framework-monorepo.entity.md)<!-- -->\[\]


</td><td>

获取系统处理的实体列表（动态查询）


</td></tr>
<tr><td>

[matcher](./ecs-framework-monorepo.entitysystem.matcher.md)


</td><td>

`readonly`


</td><td>

[Matcher](./ecs-framework-monorepo.matcher.md)


</td><td>

获取实体匹配器


</td></tr>
<tr><td>

[scene](./ecs-framework-monorepo.entitysystem.scene.md)


</td><td>


</td><td>

[Scene](./ecs-framework-monorepo.scene.md) \| null


</td><td>

这个系统所属的场景


</td></tr>
<tr><td>

[systemName](./ecs-framework-monorepo.entitysystem.systemname.md)


</td><td>

`readonly`


</td><td>

string


</td><td>

获取系统名称


</td></tr>
<tr><td>

[updateOrder](./ecs-framework-monorepo.entitysystem.updateorder.md)


</td><td>


</td><td>

number


</td><td>

获取系统的更新时序


</td></tr>
</tbody></table>

## Methods

<table><thead><tr><th>

Method


</th><th>

Modifiers


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[getPerformanceData()](./ecs-framework-monorepo.entitysystem.getperformancedata.md)


</td><td>


</td><td>

获取系统的性能数据


</td></tr>
<tr><td>

[getPerformanceStats()](./ecs-framework-monorepo.entitysystem.getperformancestats.md)


</td><td>


</td><td>

获取系统的性能统计


</td></tr>
<tr><td>

[initialize()](./ecs-framework-monorepo.entitysystem.initialize.md)


</td><td>


</td><td>

系统初始化（框架调用）

在系统创建时调用。框架内部使用，用户不应直接调用。


</td></tr>
<tr><td>

[lateProcess(\_entities)](./ecs-framework-monorepo.entitysystem.lateprocess.md)


</td><td>

`protected`


</td><td>

后期处理实体列表

在主要处理逻辑之后执行，子类可以重写此方法。


</td></tr>
<tr><td>

[lateUpdate()](./ecs-framework-monorepo.entitysystem.lateupdate.md)


</td><td>


</td><td>

后期更新系统

在所有系统的update方法执行完毕后调用。


</td></tr>
<tr><td>

[onAdded(\_entity)](./ecs-framework-monorepo.entitysystem.onadded.md)


</td><td>

`protected`


</td><td>

当实体被添加到系统时调用

子类可以重写此方法来处理实体添加事件。


</td></tr>
<tr><td>

[onBegin()](./ecs-framework-monorepo.entitysystem.onbegin.md)


</td><td>

`protected`


</td><td>

在系统处理开始前调用

子类可以重写此方法进行预处理操作。


</td></tr>
<tr><td>

[onCheckProcessing()](./ecs-framework-monorepo.entitysystem.oncheckprocessing.md)


</td><td>

`protected`


</td><td>

检查系统是否需要处理

在启用系统时有用，但仅偶尔需要处理。 这只影响处理，不影响事件或订阅列表。


</td></tr>
<tr><td>

[onEnd()](./ecs-framework-monorepo.entitysystem.onend.md)


</td><td>

`protected`


</td><td>

系统处理完毕后调用

子类可以重写此方法进行后处理操作。


</td></tr>
<tr><td>

[onInitialize()](./ecs-framework-monorepo.entitysystem.oninitialize.md)


</td><td>

`protected`


</td><td>

系统初始化回调

子类可以重写此方法进行初始化操作。


</td></tr>
<tr><td>

[onRemoved(\_entity)](./ecs-framework-monorepo.entitysystem.onremoved.md)


</td><td>

`protected`


</td><td>

当实体从系统中移除时调用

子类可以重写此方法来处理实体移除事件。


</td></tr>
<tr><td>

[process(\_entities)](./ecs-framework-monorepo.entitysystem.process.md)


</td><td>

`protected`


</td><td>

处理实体列表

系统的核心逻辑，子类必须实现此方法来定义具体的处理逻辑。


</td></tr>
<tr><td>

[reset()](./ecs-framework-monorepo.entitysystem.reset.md)


</td><td>


</td><td>

重置系统状态

当系统从场景中移除时调用，重置初始化状态以便重新添加时能正确初始化。


</td></tr>
<tr><td>

[resetPerformanceData()](./ecs-framework-monorepo.entitysystem.resetperformancedata.md)


</td><td>


</td><td>

重置系统的性能数据


</td></tr>
<tr><td>

[setUpdateOrder(order)](./ecs-framework-monorepo.entitysystem.setupdateorder.md)


</td><td>


</td><td>

设置更新时序


</td></tr>
<tr><td>

[toString()](./ecs-framework-monorepo.entitysystem.tostring.md)


</td><td>


</td><td>

获取系统信息的字符串表示


</td></tr>
<tr><td>

[update()](./ecs-framework-monorepo.entitysystem.update.md)


</td><td>


</td><td>

更新系统

在每帧调用，处理系统的主要逻辑。


</td></tr>
</tbody></table>


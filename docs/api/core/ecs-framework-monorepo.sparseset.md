<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@esengine/ecs-framework-monorepo](./ecs-framework-monorepo.md) &gt; [SparseSet](./ecs-framework-monorepo.sparseset.md)

## SparseSet class

稀疏集合实现

提供O(1)的插入、删除、查找操作，同时保持数据的紧凑存储。 使用密集数组存储实际数据，稀疏映射提供快速访问

 T 存储的数据类型

**Signature:**

```typescript
export declare class SparseSet<T> 
```

## Example


```typescript
const sparseSet = new SparseSet<Entity>();

sparseSet.add(entity1);
sparseSet.add(entity2);

if (sparseSet.has(entity1)) {
    sparseSet.remove(entity1);
}

sparseSet.forEach((entity, index) => {
    console.log(`Entity at index ${index}: ${entity.name}`);
});
```

## Properties

<table><thead><tr><th>

Property


</th><th>

Modifiers


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[isEmpty](./ecs-framework-monorepo.sparseset.isempty.md)


</td><td>

`readonly`


</td><td>

boolean


</td><td>

检查集合是否为空


</td></tr>
<tr><td>

[size](./ecs-framework-monorepo.sparseset.size.md)


</td><td>

`readonly`


</td><td>

number


</td><td>

获取集合大小


</td></tr>
</tbody></table>

## Methods

<table><thead><tr><th>

Method


</th><th>

Modifiers


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[add(item)](./ecs-framework-monorepo.sparseset.add.md)


</td><td>


</td><td>

添加元素到集合


</td></tr>
<tr><td>

[clear()](./ecs-framework-monorepo.sparseset.clear.md)


</td><td>


</td><td>

清空集合


</td></tr>
<tr><td>

[every(predicate)](./ecs-framework-monorepo.sparseset.every.md)


</td><td>


</td><td>

检查是否所有元素都满足条件


</td></tr>
<tr><td>

[filter(predicate)](./ecs-framework-monorepo.sparseset.filter.md)


</td><td>


</td><td>

过滤集合中的元素


</td></tr>
<tr><td>

[find(predicate)](./ecs-framework-monorepo.sparseset.find.md)


</td><td>


</td><td>

查找第一个满足条件的元素


</td></tr>
<tr><td>

[forEach(callback)](./ecs-framework-monorepo.sparseset.foreach.md)


</td><td>


</td><td>

遍历集合中的所有元素

保证遍历顺序与添加顺序一致（除非中间有删除操作）。 遍历性能优秀，因为数据在内存中连续存储。


</td></tr>
<tr><td>

[getByIndex(index)](./ecs-framework-monorepo.sparseset.getbyindex.md)


</td><td>


</td><td>

根据索引获取元素


</td></tr>
<tr><td>

[getDenseArray()](./ecs-framework-monorepo.sparseset.getdensearray.md)


</td><td>


</td><td>

获取密集数组的只读副本

返回数组的浅拷贝，确保外部无法直接修改内部数据。


</td></tr>
<tr><td>

[getDenseArrayUnsafe()](./ecs-framework-monorepo.sparseset.getdensearrayunsafe.md)


</td><td>


</td><td>

获取密集数组的直接引用（内部使用）

警告：直接修改返回的数组会破坏数据结构的完整性。 仅在性能关键场景下使用，并确保不会修改数组内容。


</td></tr>
<tr><td>

[getIndex(item)](./ecs-framework-monorepo.sparseset.getindex.md)


</td><td>


</td><td>

获取元素在密集数组中的索引


</td></tr>
<tr><td>

[getMemoryStats()](./ecs-framework-monorepo.sparseset.getmemorystats.md)


</td><td>


</td><td>

获取内存使用统计信息


</td></tr>
<tr><td>

[has(item)](./ecs-framework-monorepo.sparseset.has.md)


</td><td>


</td><td>

检查元素是否存在于集合中


</td></tr>
<tr><td>

[map(callback)](./ecs-framework-monorepo.sparseset.map.md)


</td><td>


</td><td>

映射集合中的所有元素


</td></tr>
<tr><td>

[remove(item)](./ecs-framework-monorepo.sparseset.remove.md)


</td><td>


</td><td>

从集合中移除元素

使用swap-and-pop技术保持数组紧凑性： 1. 将要删除的元素与最后一个元素交换 2. 删除最后一个元素 3. 更新映射表


</td></tr>
<tr><td>

[some(predicate)](./ecs-framework-monorepo.sparseset.some.md)


</td><td>


</td><td>

检查是否存在满足条件的元素


</td></tr>
<tr><td>

[toArray()](./ecs-framework-monorepo.sparseset.toarray.md)


</td><td>


</td><td>

转换为数组


</td></tr>
<tr><td>

[toSet()](./ecs-framework-monorepo.sparseset.toset.md)


</td><td>


</td><td>

转换为Set


</td></tr>
<tr><td>

[validate()](./ecs-framework-monorepo.sparseset.validate.md)


</td><td>


</td><td>

验证数据结构的完整性

调试用方法，检查内部数据结构是否一致。


</td></tr>
</tbody></table>

